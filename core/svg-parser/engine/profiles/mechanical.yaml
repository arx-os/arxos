# Mechanical System Behavior Profiles
# Comprehensive behavior profiles for mechanical systems including HVAC,
# air handling units, ductwork, and mechanical equipment with variable inputs,
# calculations, and simulation rules.

# HVAC System Profiles
hvac:
  air_handler:
    description: "Air handling unit behavior profile"
    system_type: "mechanical"
    category: "hvac"
    
    variables:
      airflow_capacity:
        type: "scalar"
        value: 5000
        unit: "CFM"
        description: "Air handler airflow capacity"
        min_value: 100
        max_value: 50000
        is_required: true
        
      static_pressure:
        type: "scalar"
        value: 2.5
        unit: "inWC"
        description: "Design static pressure"
        min_value: 0.5
        max_value: 8.0
        is_required: true
        
      fan_power:
        type: "scalar"
        value: 15
        unit: "HP"
        description: "Fan motor power"
        min_value: 0.5
        max_value: 200
        is_required: true
        
      efficiency:
        type: "scalar"
        value: 0.85
        unit: "dimensionless"
        description: "Fan efficiency"
        min_value: 0.6
        max_value: 0.95
        is_required: true
        
      operating_hours:
        type: "scalar"
        value: 8760
        unit: "hours/year"
        description: "Annual operating hours"
        min_value: 0
        max_value: 8760
        is_required: true
        
      filter_efficiency:
        type: "scalar"
        value: 0.85
        unit: "dimensionless"
        description: "Filter efficiency"
        min_value: 0.3
        max_value: 0.99
        is_required: true
    
    calculations:
      fan_energy:
        type: "arithmetic"
        expression: "fan_power * 0.746 * operating_hours"
        input_variables: ["fan_power", "operating_hours"]
        output_variable: "fan_energy"
        description: "Calculate annual fan energy consumption in kWh"
        
      pressure_drop:
        type: "physics"
        expression: "static_pressure * (airflow_capacity / design_airflow)^2"
        input_variables: ["static_pressure", "airflow_capacity", "design_airflow"]
        output_variable: "pressure_drop"
        description: "Calculate actual pressure drop"
        
      power_density:
        type: "arithmetic"
        expression: "fan_power / airflow_capacity"
        input_variables: ["fan_power", "airflow_capacity"]
        output_variable: "power_density"
        description: "Calculate power density in HP/CFM"
        
      filter_pressure_drop:
        type: "physics"
        expression: "initial_pressure_drop * (1 - filter_efficiency)"
        input_variables: ["initial_pressure_drop", "filter_efficiency"]
        output_variable: "filter_pressure_drop"
        description: "Calculate filter pressure drop"
        
      energy_cost:
        type: "arithmetic"
        expression: "fan_energy * energy_rate"
        input_variables: ["fan_energy", "energy_rate"]
        output_variable: "energy_cost"
        description: "Calculate annual energy cost"
    
    validation_rules:
      airflow_check:
        condition: "airflow_capacity >= 100 and airflow_capacity <= 50000"
        message: "Airflow capacity must be between 100 and 50,000 CFM"
        severity: "error"
        
      pressure_check:
        condition: "static_pressure >= 0.5 and static_pressure <= 8.0"
        message: "Static pressure must be between 0.5 and 8.0 inWC"
        severity: "error"
        
      efficiency_check:
        condition: "efficiency >= 0.6 and efficiency <= 0.95"
        message: "Fan efficiency must be between 60% and 95%"
        severity: "error"
        
      power_density_warning:
        condition: "power_density > 0.01"
        message: "Power density is high - consider efficiency improvements"
        severity: "warning"
        
      filter_efficiency_check:
        condition: "filter_efficiency >= 0.3 and filter_efficiency <= 0.99"
        message: "Filter efficiency must be between 30% and 99%"
        severity: "error"
    
    simulation_rules:
      load_simulation:
        description: "Simulate air handler under various loads"
        inputs: ["load_profile", "ambient_conditions", "filter_condition"]
        outputs: ["energy_consumption", "pressure_drop", "efficiency"]
        
      maintenance_simulation:
        description: "Simulate maintenance impact on performance"
        inputs: ["maintenance_schedule", "filter_changes", "component_health"]
        outputs: ["efficiency_degradation", "energy_penalty", "maintenance_cost"]

  vav_box:
    description: "Variable Air Volume box behavior profile"
    system_type: "mechanical"
    category: "hvac"
    
    variables:
      max_airflow:
        type: "scalar"
        value: 1000
        unit: "CFM"
        description: "Maximum airflow capacity"
        min_value: 50
        max_value: 5000
        is_required: true
        
      min_airflow:
        type: "scalar"
        value: 100
        unit: "CFM"
        description: "Minimum airflow"
        min_value: 10
        max_value: 500
        is_required: true
        
      damper_type:
        type: "enum"
        value: "parallel_blade"
        options: ["parallel_blade", "opposed_blade", "butterfly"]
        description: "Damper type"
        is_required: true
        
      reheat_capacity:
        type: "scalar"
        value: 50
        unit: "MBH"
        description: "Reheat coil capacity"
        min_value: 0
        max_value: 200
        is_required: true
        
      control_type:
        type: "enum"
        value: "pressure_dependent"
        options: ["pressure_dependent", "pressure_independent"]
        description: "Control type"
        is_required: true
    
    calculations:
      turndown_ratio:
        type: "arithmetic"
        expression: "max_airflow / min_airflow"
        input_variables: ["max_airflow", "min_airflow"]
        output_variable: "turndown_ratio"
        description: "Calculate turndown ratio"
        
      damper_authority:
        type: "physics"
        expression: "damper_pressure_drop / system_pressure_drop"
        input_variables: ["damper_pressure_drop", "system_pressure_drop"]
        output_variable: "damper_authority"
        description: "Calculate damper authority"
        
      reheat_energy:
        type: "arithmetic"
        expression: "reheat_capacity * 0.293 * operating_hours"
        input_variables: ["reheat_capacity", "operating_hours"]
        output_variable: "reheat_energy"
        description: "Calculate reheat energy consumption in kWh"
        
      airflow_ratio:
        type: "arithmetic"
        expression: "current_airflow / max_airflow"
        input_variables: ["current_airflow", "max_airflow"]
        output_variable: "airflow_ratio"
        description: "Calculate current airflow ratio"
    
    validation_rules:
      max_airflow_check:
        condition: "max_airflow >= 50 and max_airflow <= 5000"
        message: "Maximum airflow must be between 50 and 5000 CFM"
        severity: "error"
        
      min_airflow_check:
        condition: "min_airflow >= 10 and min_airflow <= 500"
        message: "Minimum airflow must be between 10 and 500 CFM"
        severity: "error"
        
      turndown_check:
        condition: "turndown_ratio >= 5 and turndown_ratio <= 20"
        message: "Turndown ratio must be between 5:1 and 20:1"
        severity: "error"
        
      reheat_check:
        condition: "reheat_capacity >= 0 and reheat_capacity <= 200"
        message: "Reheat capacity must be between 0 and 200 MBH"
        severity: "error"
        
      damper_authority_warning:
        condition: "damper_authority < 0.3"
        message: "Damper authority is low - control may be poor"
        severity: "warning"
    
    simulation_rules:
      control_simulation:
        description: "Simulate VAV control behavior"
        inputs: ["load_profile", "temperature_setpoint", "pressure_conditions"]
        outputs: ["airflow_response", "energy_consumption", "comfort_level"]
        
      reheat_simulation:
        description: "Simulate reheat operation"
        inputs: ["cooling_load", "heating_demand", "efficiency"]
        outputs: ["reheat_energy", "comfort_control", "energy_efficiency"]

  chiller:
    description: "Chiller behavior profile"
    system_type: "mechanical"
    category: "hvac"
    
    variables:
      cooling_capacity:
        type: "scalar"
        value: 500
        unit: "tons"
        description: "Chiller cooling capacity"
        min_value: 10
        max_value: 2000
        is_required: true
        
      efficiency:
        type: "scalar"
        value: 0.65
        unit: "kW/ton"
        description: "Chiller efficiency"
        min_value: 0.4
        max_value: 1.2
        is_required: true
        
      chilled_water_temp:
        type: "scalar"
        value: 44
        unit: "°F"
        description: "Chilled water temperature"
        min_value: 35
        max_value: 55
        is_required: true
        
      condenser_water_temp:
        type: "scalar"
        value: 85
        unit: "°F"
        description: "Condenser water temperature"
        min_value: 70
        max_value: 95
        is_required: true
        
      part_load_ratio:
        type: "scalar"
        value: 0.7
        unit: "dimensionless"
        description: "Current part load ratio"
        min_value: 0.1
        max_value: 1.0
        is_required: true
    
    calculations:
      power_consumption:
        type: "arithmetic"
        expression: "cooling_capacity * efficiency * part_load_ratio"
        input_variables: ["cooling_capacity", "efficiency", "part_load_ratio"]
        output_variable: "power_consumption"
        description: "Calculate power consumption in kW"
        
      energy_consumption:
        type: "arithmetic"
        expression: "power_consumption * operating_hours"
        input_variables: ["power_consumption", "operating_hours"]
        output_variable: "energy_consumption"
        description: "Calculate energy consumption in kWh"
        
      cop:
        type: "arithmetic"
        expression: "3.517 / efficiency"
        input_variables: ["efficiency"]
        output_variable: "cop"
        description: "Calculate coefficient of performance"
        
      delta_t:
        type: "arithmetic"
        expression: "condenser_water_temp - chilled_water_temp"
        input_variables: ["condenser_water_temp", "chilled_water_temp"]
        output_variable: "delta_t"
        description: "Calculate temperature difference"
        
      efficiency_factor:
        type: "physics"
        expression: "base_efficiency * temperature_factor * load_factor"
        input_variables: ["base_efficiency", "temperature_factor", "load_factor"]
        output_variable: "efficiency_factor"
        description: "Calculate actual efficiency factor"
    
    validation_rules:
      capacity_check:
        condition: "cooling_capacity >= 10 and cooling_capacity <= 2000"
        message: "Cooling capacity must be between 10 and 2000 tons"
        severity: "error"
        
      efficiency_check:
        condition: "efficiency >= 0.4 and efficiency <= 1.2"
        message: "Efficiency must be between 0.4 and 1.2 kW/ton"
        severity: "error"
        
      temperature_check:
        condition: "chilled_water_temp >= 35 and chilled_water_temp <= 55"
        message: "Chilled water temperature must be between 35°F and 55°F"
        severity: "error"
        
      condenser_temp_check:
        condition: "condenser_water_temp >= 70 and condenser_water_temp <= 95"
        message: "Condenser water temperature must be between 70°F and 95°F"
        severity: "error"
        
      efficiency_warning:
        condition: "efficiency > 0.8"
        message: "Chiller efficiency is poor - consider replacement"
        severity: "warning"
    
    simulation_rules:
      load_simulation:
        description: "Simulate chiller under various loads"
        inputs: ["load_profile", "ambient_conditions", "water_temperatures"]
        outputs: ["power_consumption", "efficiency", "energy_cost"]
        
      efficiency_simulation:
        description: "Simulate efficiency degradation over time"
        inputs: ["operating_hours", "maintenance_schedule", "ambient_conditions"]
        outputs: ["efficiency_degradation", "energy_penalty", "maintenance_needs"]

# Ductwork System Profiles
ductwork:
  duct_section:
    description: "Duct section behavior profile"
    system_type: "mechanical"
    category: "ductwork"
    
    variables:
      length:
        type: "scalar"
        value: 50
        unit: "ft"
        description: "Duct length"
        min_value: 1
        max_value: 500
        is_required: true
        
      width:
        type: "scalar"
        value: 24
        unit: "inches"
        description: "Duct width"
        min_value: 4
        max_value: 120
        is_required: true
        
      height:
        type: "scalar"
        value: 12
        unit: "inches"
        description: "Duct height"
        min_value: 4
        max_value: 60
        is_required: true
        
      airflow:
        type: "scalar"
        value: 2000
        unit: "CFM"
        description: "Airflow through duct"
        min_value: 50
        max_value: 20000
        is_required: true
        
      velocity:
        type: "scalar"
        value: 800
        unit: "FPM"
        description: "Air velocity"
        min_value: 200
        max_value: 2000
        is_required: true
        
      roughness:
        type: "scalar"
        value: 0.0003
        unit: "ft"
        description: "Duct roughness factor"
        min_value: 0.0001
        max_value: 0.01
        is_required: true
    
    calculations:
      cross_sectional_area:
        type: "arithmetic"
        expression: "(width * height) / 144"
        input_variables: ["width", "height"]
        output_variable: "cross_sectional_area"
        description: "Calculate cross-sectional area in sq ft"
        
      hydraulic_diameter:
        type: "arithmetic"
        expression: "2 * (width * height) / (width + height)"
        input_variables: ["width", "height"]
        output_variable: "hydraulic_diameter"
        description: "Calculate hydraulic diameter in inches"
        
      reynolds_number:
        type: "physics"
        expression: "velocity * hydraulic_diameter / (12 * kinematic_viscosity)"
        input_variables: ["velocity", "hydraulic_diameter", "kinematic_viscosity"]
        output_variable: "reynolds_number"
        description: "Calculate Reynolds number"
        
      friction_factor:
        type: "physics"
        expression: "0.25 / (log10(roughness / (3.7 * hydraulic_diameter) + 5.74 / reynolds_number^0.9))^2"
        input_variables: ["roughness", "hydraulic_diameter", "reynolds_number"]
        output_variable: "friction_factor"
        description: "Calculate friction factor"
        
      pressure_drop:
        type: "physics"
        expression: "friction_factor * length * velocity^2 / (2 * g * hydraulic_diameter)"
        input_variables: ["friction_factor", "length", "velocity", "hydraulic_diameter"]
        output_variable: "pressure_drop"
        description: "Calculate pressure drop in inWC"
        
      velocity_pressure:
        type: "physics"
        expression: "(velocity / 4005)^2"
        input_variables: ["velocity"]
        output_variable: "velocity_pressure"
        description: "Calculate velocity pressure"
    
    validation_rules:
      length_check:
        condition: "length >= 1 and length <= 500"
        message: "Duct length must be between 1 and 500 ft"
        severity: "error"
        
      size_check:
        condition: "width >= 4 and width <= 120 and height >= 4 and height <= 60"
        message: "Duct dimensions must be between 4 and 120 inches"
        severity: "error"
        
      velocity_check:
        condition: "velocity >= 200 and velocity <= 2000"
        message: "Air velocity must be between 200 and 2000 FPM"
        severity: "error"
        
      aspect_ratio_check:
        condition: "width / height >= 0.25 and width / height <= 4.0"
        message: "Aspect ratio must be between 0.25:1 and 4:1"
        severity: "warning"
        
      pressure_drop_warning:
        condition: "pressure_drop > 0.1"
        message: "Pressure drop is high - consider larger duct"
        severity: "warning"
    
    simulation_rules:
      flow_simulation:
        description: "Simulate airflow through duct"
        inputs: ["airflow", "pressure_conditions", "temperature"]
        outputs: ["velocity", "pressure_drop", "noise_level"]
        
      sizing_simulation:
        description: "Simulate duct sizing optimization"
        inputs: ["airflow_requirements", "space_constraints", "noise_limits"]
        outputs: ["optimal_size", "pressure_drop", "cost"]

  duct_fitting:
    description: "Duct fitting behavior profile"
    system_type: "mechanical"
    category: "ductwork"
    
    variables:
      fitting_type:
        type: "enum"
        value: "elbow"
        options: ["elbow", "tee", "transition", "damper", "diffuser"]
        description: "Type of duct fitting"
        is_required: true
        
      loss_coefficient:
        type: "scalar"
        value: 0.3
        unit: "dimensionless"
        description: "Fitting loss coefficient"
        min_value: 0.01
        max_value: 10.0
        is_required: true
        
      inlet_area:
        type: "scalar"
        value: 2.0
        unit: "sq ft"
        description: "Inlet cross-sectional area"
        min_value: 0.1
        max_value: 100
        is_required: true
        
      outlet_area:
        type: "scalar"
        value: 2.0
        unit: "sq ft"
        description: "Outlet cross-sectional area"
        min_value: 0.1
        max_value: 100
        is_required: true
        
      airflow:
        type: "scalar"
        value: 2000
        unit: "CFM"
        description: "Airflow through fitting"
        min_value: 50
        max_value: 20000
        is_required: true
    
    calculations:
      area_ratio:
        type: "arithmetic"
        expression: "outlet_area / inlet_area"
        input_variables: ["outlet_area", "inlet_area"]
        output_variable: "area_ratio"
        description: "Calculate area ratio"
        
      velocity_inlet:
        type: "arithmetic"
        expression: "airflow / inlet_area"
        input_variables: ["airflow", "inlet_area"]
        output_variable: "velocity_inlet"
        description: "Calculate inlet velocity"
        
      velocity_outlet:
        type: "arithmetic"
        expression: "airflow / outlet_area"
        input_variables: ["airflow", "outlet_area"]
        output_variable: "velocity_outlet"
        description: "Calculate outlet velocity"
        
      pressure_loss:
        type: "physics"
        expression: "loss_coefficient * (velocity_inlet / 4005)^2"
        input_variables: ["loss_coefficient", "velocity_inlet"]
        output_variable: "pressure_loss"
        description: "Calculate pressure loss in inWC"
        
      recovery_factor:
        type: "conditional"
        expression: "if area_ratio > 1 then 0.8 else 0.6"
        input_variables: ["area_ratio"]
        output_variable: "recovery_factor"
        description: "Calculate pressure recovery factor"
    
    validation_rules:
      loss_coefficient_check:
        condition: "loss_coefficient >= 0.01 and loss_coefficient <= 10.0"
        message: "Loss coefficient must be between 0.01 and 10.0"
        severity: "error"
        
      area_check:
        condition: "inlet_area >= 0.1 and inlet_area <= 100 and outlet_area >= 0.1 and outlet_area <= 100"
        message: "Areas must be between 0.1 and 100 sq ft"
        severity: "error"
        
      airflow_check:
        condition: "airflow >= 50 and airflow <= 20000"
        message: "Airflow must be between 50 and 20,000 CFM"
        severity: "error"
        
      pressure_loss_warning:
        condition: "pressure_loss > 0.05"
        message: "Pressure loss is high - consider alternative fitting"
        severity: "warning"
        
      velocity_check:
        condition: "velocity_inlet >= 200 and velocity_inlet <= 2000"
        message: "Inlet velocity must be between 200 and 2000 FPM"
        severity: "error"
    
    simulation_rules:
      pressure_simulation:
        description: "Simulate pressure loss through fitting"
        inputs: ["airflow", "upstream_pressure", "temperature"]
        outputs: ["pressure_loss", "downstream_pressure", "noise_generation"]
        
      optimization_simulation:
        description: "Simulate fitting optimization"
        inputs: ["space_constraints", "pressure_requirements", "noise_limits"]
        outputs: ["optimal_configuration", "pressure_loss", "cost"]

# Mechanical Equipment Profiles
equipment:
  pump:
    description: "Pump behavior profile"
    system_type: "mechanical"
    category: "equipment"
    
    variables:
      flow_rate:
        type: "scalar"
        value: 500
        unit: "GPM"
        description: "Pump flow rate"
        min_value: 10
        max_value: 5000
        is_required: true
        
      head:
        type: "scalar"
        value: 100
        unit: "ft"
        description: "Pump head"
        min_value: 10
        max_value: 500
        is_required: true
        
      efficiency:
        type: "scalar"
        value: 0.75
        unit: "dimensionless"
        description: "Pump efficiency"
        min_value: 0.4
        max_value: 0.9
        is_required: true
        
      power:
        type: "scalar"
        value: 25
        unit: "HP"
        description: "Motor power"
        min_value: 0.5
        max_value: 500
        is_required: true
        
      speed:
        type: "scalar"
        value: 1750
        unit: "RPM"
        description: "Pump speed"
        min_value: 500
        max_value: 3600
        is_required: true
    
    calculations:
      water_power:
        type: "physics"
        expression: "flow_rate * head * 8.33 / 33000"
        input_variables: ["flow_rate", "head"]
        output_variable: "water_power"
        description: "Calculate water power in HP"
        
      brake_power:
        type: "arithmetic"
        expression: "water_power / efficiency"
        input_variables: ["water_power", "efficiency"]
        output_variable: "brake_power"
        description: "Calculate brake power in HP"
        
      energy_consumption:
        type: "arithmetic"
        expression: "brake_power * 0.746 * operating_hours"
        input_variables: ["brake_power", "operating_hours"]
        output_variable: "energy_consumption"
        description: "Calculate energy consumption in kWh"
        
      specific_speed:
        type: "physics"
        expression: "speed * sqrt(flow_rate) / head^0.75"
        input_variables: ["speed", "flow_rate", "head"]
        output_variable: "specific_speed"
        description: "Calculate specific speed"
        
      efficiency_factor:
        type: "conditional"
        expression: "if specific_speed >= 1000 and specific_speed <= 3000 then 0.85 else 0.75"
        input_variables: ["specific_speed"]
        output_variable: "efficiency_factor"
        description: "Calculate efficiency factor based on specific speed"
    
    validation_rules:
      flow_check:
        condition: "flow_rate >= 10 and flow_rate <= 5000"
        message: "Flow rate must be between 10 and 5000 GPM"
        severity: "error"
        
      head_check:
        condition: "head >= 10 and head <= 500"
        message: "Head must be between 10 and 500 ft"
        severity: "error"
        
      efficiency_check:
        condition: "efficiency >= 0.4 and efficiency <= 0.9"
        message: "Efficiency must be between 40% and 90%"
        severity: "error"
        
      power_check:
        condition: "power >= 0.5 and power <= 500"
        message: "Power must be between 0.5 and 500 HP"
        severity: "error"
        
      efficiency_warning:
        condition: "efficiency < 0.6"
        message: "Pump efficiency is poor - consider replacement"
        severity: "warning"
        
      specific_speed_check:
        condition: "specific_speed >= 500 and specific_speed <= 5000"
        message: "Specific speed should be between 500 and 5000"
        severity: "warning"
    
    simulation_rules:
      performance_simulation:
        description: "Simulate pump performance curves"
        inputs: ["flow_requirements", "head_requirements", "speed_variation"]
        outputs: ["efficiency", "power_consumption", "operating_point"]
        
      system_simulation:
        description: "Simulate pump in system context"
        inputs: ["system_curve", "pump_curve", "operating_conditions"]
        outputs: ["flow_rate", "head", "efficiency", "power"]

  fan:
    description: "Fan behavior profile"
    system_type: "mechanical"
    category: "equipment"
    
    variables:
      airflow:
        type: "scalar"
        value: 10000
        unit: "CFM"
        description: "Fan airflow"
        min_value: 100
        max_value: 100000
        is_required: true
        
      static_pressure:
        type: "scalar"
        value: 3.0
        unit: "inWC"
        description: "Fan static pressure"
        min_value: 0.5
        max_value: 10.0
        is_required: true
        
      efficiency:
        type: "scalar"
        value: 0.80
        unit: "dimensionless"
        description: "Fan efficiency"
        min_value: 0.5
        max_value: 0.95
        is_required: true
        
      power:
        type: "scalar"
        value: 20
        unit: "HP"
        description: "Motor power"
        min_value: 0.5
        max_value: 500
        is_required: true
        
      speed:
        type: "scalar"
        value: 1750
        unit: "RPM"
        description: "Fan speed"
        min_value: 500
        max_value: 3600
        is_required: true
    
    calculations:
      air_power:
        type: "physics"
        expression: "airflow * static_pressure * 0.000157"
        input_variables: ["airflow", "static_pressure"]
        output_variable: "air_power"
        description: "Calculate air power in HP"
        
      brake_power:
        type: "arithmetic"
        expression: "air_power / efficiency"
        input_variables: ["air_power", "efficiency"]
        output_variable: "brake_power"
        description: "Calculate brake power in HP"
        
      energy_consumption:
        type: "arithmetic"
        expression: "brake_power * 0.746 * operating_hours"
        input_variables: ["brake_power", "operating_hours"]
        output_variable: "energy_consumption"
        description: "Calculate energy consumption in kWh"
        
      specific_speed:
        type: "physics"
        expression: "speed * sqrt(airflow) / static_pressure^0.75"
        input_variables: ["speed", "airflow", "static_pressure"]
        output_variable: "specific_speed"
        description: "Calculate specific speed"
        
      power_density:
        type: "arithmetic"
        expression: "power / airflow"
        input_variables: ["power", "airflow"]
        output_variable: "power_density"
        description: "Calculate power density in HP/CFM"
    
    validation_rules:
      airflow_check:
        condition: "airflow >= 100 and airflow <= 100000"
        message: "Airflow must be between 100 and 100,000 CFM"
        severity: "error"
        
      pressure_check:
        condition: "static_pressure >= 0.5 and static_pressure <= 10.0"
        message: "Static pressure must be between 0.5 and 10.0 inWC"
        severity: "error"
        
      efficiency_check:
        condition: "efficiency >= 0.5 and efficiency <= 0.95"
        message: "Efficiency must be between 50% and 95%"
        severity: "error"
        
      power_check:
        condition: "power >= 0.5 and power <= 500"
        message: "Power must be between 0.5 and 500 HP"
        severity: "error"
        
      efficiency_warning:
        condition: "efficiency < 0.7"
        message: "Fan efficiency is poor - consider replacement"
        severity: "warning"
        
      power_density_warning:
        condition: "power_density > 0.005"
        message: "Power density is high - consider efficiency improvements"
        severity: "warning"
    
    simulation_rules:
      performance_simulation:
        description: "Simulate fan performance curves"
        inputs: ["airflow_requirements", "pressure_requirements", "speed_variation"]
        outputs: ["efficiency", "power_consumption", "operating_point"]
        
      system_simulation:
        description: "Simulate fan in system context"
        inputs: ["system_curve", "fan_curve", "operating_conditions"]
        outputs: ["airflow", "pressure", "efficiency", "power"] 
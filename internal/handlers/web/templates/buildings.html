{{template "base" .}}

{{define "title"}}Buildings - ArxOS{{end}}

{{define "content"}}
<div class="px-4">
    <div class="flex justify-between items-center mb-8">
        <h1 class="text-2xl font-semibold text-gray-900">Buildings</h1>
        <button class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">
            Add Building
        </button>
    </div>

    <!-- Building List -->
    <div class="bg-white shadow rounded-lg overflow-hidden">
        <table class="min-w-full divide-y divide-gray-300">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-6 py-3 text-left text-sm font-semibold text-gray-900">Building Name</th>
                    <th class="px-6 py-3 text-left text-sm font-semibold text-gray-900">Equipment</th>
                    <th class="px-6 py-3 text-left text-sm font-semibold text-gray-900">Actions</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-200 bg-white">
                {{range .Content.Buildings}}
                <tr>
                    <td class="px-6 py-4 text-sm font-medium text-gray-900">
                        <a href="/buildings/{{.ID}}" class="text-indigo-600 hover:text-indigo-900">{{.Name}}</a>
                    </td>
                    <td class="px-6 py-4 text-sm text-gray-500">{{len .Equipment}}</td>
                    <td class="px-6 py-4 text-sm text-gray-500">
                        <button hx-get="/buildings/{{.ID}}/floor-plan" 
                                hx-target="#floor-plan-{{.ID}}"
                                class="text-indigo-600 hover:text-indigo-900">
                            View ASCII
                        </button>
                    </td>
                </tr>
                <tr id="floor-plan-{{.ID}}" class="hidden">
                    <td colspan="3" class="p-0"></td>
                </tr>
                {{else}}
                <tr>
                    <td colspan="3" class="px-6 py-12 text-center text-gray-500">
                        No buildings found. Add your first building to get started.
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
    </div>
</div>
{{end}}

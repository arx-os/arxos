<!-- Optimized Dashboard using HTMX patterns -->
<div class="dashboard" id="dashboard-content">
    <div class="dashboard-container">
        <!-- Left sidebar with auto-refresh stats -->
        <aside class="dashboard-sidebar">
            <div class="user-card">
                <div class="user-avatar-large">{{.User.Initial}}</div>
                <h2>{{.User.Name}}</h2>
                <p class="text-muted">{{.User.Role}}</p>
                <a href="/profile/edit" 
                   class="btn btn-default btn-block mt-3">
                    Edit profile
                </a>
            </div>

            <!-- Stats that auto-refresh every 30 seconds -->
            <div class="stats-card" 
                 hx-get="/api/dashboard/stats" 
                 hx-trigger="load, every 30s"
                 hx-swap="outerHTML">
                <h3>Overview</h3>
                <div class="stat-item">
                    <i class="fas fa-building stat-icon"></i>
                    <div class="stat-content">
                        <div class="stat-value">{{.Stats.TotalBuildings}}</div>
                        <div class="stat-label">Total Buildings</div>
                    </div>
                </div>
                <div class="stat-item">
                    <i class="fas fa-chart-line stat-icon"></i>
                    <div class="stat-content">
                        <div class="stat-value">{{.Stats.ActiveAnalyses}}</div>
                        <div class="stat-label">Active Analyses</div>
                    </div>
                </div>
                <div class="stat-item">
                    <i class="fas fa-expand stat-icon"></i>
                    <div class="stat-content">
                        <div class="stat-value">{{.Stats.TotalSqFt}}</div>
                        <div class="stat-label">Total Sq Ft</div>
                    </div>
                </div>
                <div class="stat-item">
                    <i class="fas fa-map-pin stat-icon"></i>
                    <div class="stat-content">
                        <div class="stat-value">{{.Stats.DataPoints}}</div>
                        <div class="stat-label">Data Points</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main content -->
        <main class="dashboard-main">
            <!-- Recent buildings with infinite scroll -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>Recent Buildings</h2>
                    <a href="/buildings" class="btn btn-sm btn-default">
                        View all
                    </a>
                </div>

                <div class="buildings-grid" 
                     id="buildings-grid"
                     hx-get="/api/buildings/recent?page=1"
                     hx-trigger="load"
                     hx-swap="innerHTML">
                    <!-- Buildings will be loaded here -->
                </div>

                <!-- New building prompt -->
                <a href="/buildings/new" class="new-building-prompt">
                    <i class="fas fa-building"></i>
                    <div>
                        <h3>Add a new building</h3>
                        <p>Import floor plans, configure spaces, and start analyzing</p>
                    </div>
                </a>
            </section>

            <!-- Activity feed with SSE for real-time updates -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h2>Recent Activity</h2>
                </div>

                <div class="activity-feed" 
                     id="activity-feed"
                     hx-ext="sse"
                     sse-connect="/api/activity/stream"
                     sse-swap="message">
                    <!-- Initial activities -->
                    <div hx-get="/api/activity/recent" 
                         hx-trigger="load"
                         hx-swap="innerHTML">
                        <!-- Activities will be loaded here -->
                    </div>
                </div>
            </section>
        </main>
    </div>
</div>
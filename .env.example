# ArxOS Environment Configuration
# Copy this file to .env and update values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostGIS Database (Primary)
POSTGRES_DB=arxos
POSTGRES_USER=arxos
POSTGRES_PASSWORD=change_me_in_production
POSTGIS_HOST=localhost
POSTGIS_PORT=5432

# Database Type Selection
ARX_DB_TYPE=postgis  # postgis, sqlite, hybrid

# SQLite Database (Fallback)
ARX_DB_PATH=./data/arxos.db

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# API Server
API_PORT=8080
ARX_LOG_LEVEL=info  # debug, info, warn, error
ARX_STATE_DIR=.arxos
ARX_CACHE_DIR=.arxos/cache

# Daemon Configuration
DAEMON_WATCH_PATHS=/data/ifc
DAEMON_POLL_INTERVAL=5s
DAEMON_AUTO_EXPORT=true
DAEMON_AUTO_IMPORT=true
DAEMON_MAX_WORKERS=4

# =============================================================================
# SECURITY
# =============================================================================

# Authentication
JWT_SECRET=change-this-to-a-secure-random-string-in-production
JWT_EXPIRY=24h
SESSION_TIMEOUT=72h
ARX_BCRYPT_COST=12

# API Rate Limiting
API_RATE_LIMIT=100
API_RATE_BURST=200

# CORS Settings
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# =============================================================================
# DEVELOPMENT TOOLS (Docker profiles)
# =============================================================================

# PgAdmin (profile: debug)
PGADMIN_EMAIL=admin@arxos.local
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# Redis Cache (profile: cache)
REDIS_HOST=localhost
REDIS_PORT=6379
CACHE_TYPE=memory  # memory, redis

# =============================================================================
# MONITORING (Docker profile: monitoring)
# =============================================================================

# Prometheus
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# Grafana
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# Loki
LOKI_PORT=3100

# Jaeger
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Performance
ARX_MAX_REQUEST_SIZE=10485760  # 10MB
CONNECTION_POOL_SIZE=25
MAX_IDLE_CONNECTIONS=10

# TLS/SSL
ARX_ENABLE_TLS=false
ARX_TLS_CERT_PATH=/etc/ssl/certs/arxos.crt
ARX_TLS_KEY_PATH=/etc/ssl/private/arxos.key

# Telemetry
ARX_TELEMETRY=false

# =============================================================================
# BACKUP & STORAGE
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# Storage Configuration
STORAGE_TYPE=local  # local, s3, azure
STORAGE_PATH=./storage

# =============================================================================
# ARXOS SPECIFIC
# =============================================================================

# Building Management
ARXOS_ID_PREFIX=ARXOS
MAX_BUILDING_SIZE_MB=500
MAX_IFC_IMPORT_SIZE_MB=100

# Repository Settings
REPO_VERSION_LIMIT=100
REPO_ENABLE_COMPRESSION=true

# Export Formats
ENABLE_BIM_EXPORT=true
ENABLE_CSV_EXPORT=true
ENABLE_JSON_EXPORT=true
ENABLE_PDF_EXPORT=false  # Requires additional dependencies
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://arxos.dev/schemas/symbol.schema.json",
  "title": "Arxos Symbol",
  "description": "Schema for a single SVG-BIM symbol in the Arxos symbol library.",
  "type": "object",
  "required": ["id", "name", "system", "svg"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique symbol identifier (lowercase, alphanumeric, underscores)",
      "pattern": "^[a-z0-9_]+$"
    },
    "name": {
      "type": "string",
      "description": "Human-readable symbol name"
    },
    "system": {
      "type": "string",
      "description": "System category for the symbol",
      "enum": [
        "electrical",
        "mechanical",
        "plumbing",
        "fire_alarm",
        "security",
        "hvac",
        "network",
        "building_controls",
        "av",
        "other"
      ]
    },
    "description": {
      "type": "string",
      "description": "Optional description of the symbol"
    },
    "category": {
      "type": "string",
      "description": "Optional category for grouping symbols"
    },
    "tags": {
      "type": "array",
      "description": "Optional list of tags",
      "items": { "type": "string" },
      "uniqueItems": true
    },
    "svg": {
      "type": "object",
      "description": "SVG content and metadata",
      "required": ["content"],
      "properties": {
        "content": {
          "type": "string",
          "description": "SVG XML markup as a string",
          "minLength": 1
        },
        "viewBox": {
          "type": "string",
          "description": "SVG viewBox attribute (optional)"
        },
        "width": {
          "type": ["string", "number"],
          "description": "SVG width (optional)"
        },
        "height": {
          "type": ["string", "number"],
          "description": "SVG height (optional)"
        }
      },
      "additionalProperties": true
    },
    "properties": {
      "type": "object",
      "description": "Custom properties for the symbol",
      "additionalProperties": true
    },
    "connections": {
      "type": "array",
      "description": "Array of connection points for the symbol",
      "items": {
        "type": "object",
        "required": ["id", "type", "x", "y"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Connection point identifier"
          },
          "type": {
            "type": "string",
            "description": "Type of connection (e.g., input, output, signal, power)"
          },
          "x": {
            "type": "number",
            "description": "X coordinate (relative or absolute)"
          },
          "y": {
            "type": "number",
            "description": "Y coordinate (relative or absolute)"
          },
          "label": {
            "type": "string",
            "description": "Optional label for the connection point"
          },
          "direction": {
            "type": "string",
            "description": "Optional direction (e.g., left, right, up, down)"
          }
        },
        "additionalProperties": false
      },
      "uniqueItems": true
    },
    "metadata": {
      "type": "object",
      "description": "Optional metadata for the symbol",
      "additionalProperties": true
    },
    "version": {
      "type": "string",
      "description": "Optional version string for the symbol"
    }
  },
  "additionalProperties": false
} 
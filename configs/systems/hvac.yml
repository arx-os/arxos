# HVAC System Template
# Defines heating, ventilation, and air conditioning topology

name: HVAC System
category: hvac
description: Heating, ventilation, and air conditioning system topology

# Hierarchy defines the typical HVAC air distribution chain
hierarchy:
  - level: 1
    name: Central Plant
    subtypes:
      - chiller
      - boiler
      - air_handler
      - rooftop_unit
      - heat_pump
    feeds: [duct_main, pump]

  - level: 2
    name: Distribution
    subtypes:
      - duct_main
      - supply_duct
      - return_duct
      - pump
      - piping
    feeds: [vav_box, fcu, terminal_unit]

  - level: 3
    name: Zone Control
    subtypes:
      - vav_box  # Variable Air Volume
      - fcu  # Fan Coil Unit
      - terminal_unit
      - zone_damper
    feeds: [diffuser, register]
    controls: [thermostat]

  - level: 4
    name: Air Delivery
    subtypes:
      - diffuser
      - register
      - grille
      - exhaust_fan
    terminal: true

  - level: 5
    name: Controls
    subtypes:
      - thermostat
      - sensor  # temp, humidity, CO2
      - actuator
      - controller
    controls: [vav_box, damper, valve]

# Common relationship types for HVAC
relationships:
  - type: feeds
    description: Provides conditioned air or water
    properties:
      medium: "air|water|refrigerant"
      flow_rate: number
      temperature: number

  - type: controls
    description: Controls operation of equipment
    properties:
      control_type: "on_off|modulating|pid"
      setpoint: number

  - type: returns
    description: Return air/water path
    properties:
      medium: string

# Example HVAC properties per subtype
equipment_properties:
  air_handler:
    - capacity_cfm
    - cooling_tons
    - heating_btuh
    - fan_horsepower
    - filter_size

  vav_box:
    - max_cfm
    - min_cfm
    - heating_capable
    - reheat_type  # electric, hot water

  thermostat:
    - zones_controlled
    - setpoint_range
    - protocol  # BACnet, Modbus, proprietary
    - programmable

  diffuser:
    - size
    - throw_distance
    - pattern  # 2-way, 3-way, 4-way, circular


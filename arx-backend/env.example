# =============================================================================
# Arx Backend Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# cp env.example .env

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Connection URL (recommended)
DATABASE_URL=postgresql://arxos:arxos_password@localhost:5432/arxos_db?sslmode=disable

# Individual database settings (alternative to DATABASE_URL)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=arxos_db
DATABASE_USER=arxos
DATABASE_PASSWORD=arxos_password
DATABASE_SSL_MODE=disable

# Database connection pool settings
DATABASE_MAX_OPEN_CONNS=25
DATABASE_MAX_IDLE_CONNS=5
DATABASE_CONN_MAX_LIFETIME=5m

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Connection URL (recommended)
REDIS_URL=redis://localhost:6379

# Individual Redis settings (alternative to REDIS_URL)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis connection pool settings
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=2

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server settings
SERVER_PORT=8080
SERVER_HOST=0.0.0.0
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=60s

# Environment
ENVIRONMENT=development
LOG_LEVEL=debug

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=168h

# Password hashing
BCRYPT_COST=12

# Session configuration
SESSION_SECRET=your-session-secret-key-change-this
SESSION_EXPIRY=24h

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS settings
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,X-CSRF-Token
CORS_EXPOSED_HEADERS=Content-Length,Content-Range
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=86400

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_PATH=/metrics

# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30s

# Logging configuration
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_CALLER=true

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# CMMS Service
CMMS_SERVICE_URL=http://localhost:8081
CMMS_SERVICE_TIMEOUT=30s

# SVG Parser Service
SVG_PARSER_SERVICE_URL=http://localhost:8082
SVG_PARSER_SERVICE_TIMEOUT=60s

# AI Service
AI_SERVICE_URL=http://localhost:8083
AI_SERVICE_TIMEOUT=120s

# IoT Service
IOT_SERVICE_URL=http://localhost:8084
IOT_SERVICE_TIMEOUT=30s

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@arxos.com

# Email templates
EMAIL_TEMPLATE_PATH=./templates/email

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# File upload settings
UPLOAD_MAX_SIZE=10MB
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf
UPLOAD_PATH=./uploads

# AWS S3 (optional)
AWS_S3_BUCKET=arxos-uploads
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Cache settings
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_PREFIX=arx:

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development mode settings
DEV_MODE=true
DEBUG=true
HOT_RELOAD=true

# Test settings
TEST_DATABASE_URL=postgresql://arxos:arxos_password@localhost:5432/arxos_test?sslmode=disable
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production overrides (uncomment for production)
# ENVIRONMENT=production
# LOG_LEVEL=info
# DEBUG=false
# DEV_MODE=false
# HOT_RELOAD=false

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Deployment settings
DEPLOYMENT_ENV=development
DEPLOYMENT_VERSION=1.0.0
DEPLOYMENT_REGION=us-east-1

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature flags
FEATURE_NEW_UI=false
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_REAL_TIME_UPDATES=true
FEATURE_MOBILE_APP=false

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================

# Third-party integrations
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Security headers
SECURITY_HEADERS_ENABLED=true
SECURITY_HEADERS_HSTS_MAX_AGE=31536000
SECURITY_HEADERS_CONTENT_SECURITY_POLICY="default-src 'self'"

# API rate limiting
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_REQUESTS=1000
API_RATE_LIMIT_WINDOW=1h

# =============================================================================
# NOTIFICATIONS
# =============================================================================

# Notification settings
NOTIFICATIONS_ENABLED=true
NOTIFICATIONS_EMAIL=true
NOTIFICATIONS_SMS=false
NOTIFICATIONS_PUSH=false

# Slack integration (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#arxos-alerts

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Performance tuning
WORKER_POOL_SIZE=4
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=30s
RESPONSE_TIMEOUT=30s

# =============================================================================
# DEBUGGING & PROFILING
# =============================================================================

# Debug settings
DEBUG_PORT=2345
DEBUG_ENABLED=false
PROFILING_ENABLED=false
PROFILING_PORT=6060

# =============================================================================
# DOCUMENTATION
# =============================================================================

# Documentation settings
API_DOCS_ENABLED=true
API_DOCS_PATH=/docs
SWAGGER_ENABLED=true
SWAGGER_PATH=/swagger

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test settings
TEST_TIMEOUT=30s
TEST_PARALLEL=4
TEST_COVERAGE_THRESHOLD=80

# =============================================================================
# CI/CD SETTINGS
# =============================================================================

# CI/CD configuration
CI_ENVIRONMENT=false
CI_BUILD_NUMBER=1
CI_COMMIT_SHA=unknown
CI_BRANCH=unknown

# =============================================================================
# LEGACY SUPPORT
# =============================================================================

# Legacy settings (for backward compatibility)
LEGACY_API_ENABLED=false
LEGACY_AUTH_ENABLED=false
LEGACY_DATABASE_ENABLED=false

# =============================================================================
# NOTES
# =============================================================================

# Important notes:
# 1. Change all secret keys in production
# 2. Use strong passwords for database and Redis
# 3. Enable SSL in production
# 4. Set appropriate rate limits for your use case
# 5. Configure monitoring and alerting
# 6. Set up proper backup strategies
# 7. Review security settings before deployment 
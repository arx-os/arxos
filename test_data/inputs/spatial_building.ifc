ISO-10303-21;
HEADER;
FILE_DESCRIPTION(('IFC4 Spatial Building Model'),'2;1');
FILE_NAME('Spatial Building Test','2024-01-01T12:00:00',('ArxOS Team'),('ArxOS Test Suite'),'IFC4x3','ArxOS Converter','Test Fixture');
FILE_SCHEMA(('IFC4X3'));
ENDSEC;
DATA;

# Global Units - Millimeter precision
#1=IFCPROJECT('3$4KjK7vP2M0000000001',$,'Spatial Test Building','Test building with precise spatial coordinates',$,$,$,$,#2);
#2=IFCUNITASSIGNMENT((#3,#4,#5));
#3=IFCSIUNIT(*,.LENGTHUNIT.,.MILLI.,.METRE.);
#4=IFCSIUNIT(*,.AREAUNIT.,.SQUARE.,.METRE.);
#5=IFCSIUNIT(*,.VOLUMEUNIT.,.CUBIC.,.METRE.);

# Coordinate Reference System - Web Mercator (EPSG:3857)
#6=IFCMAPCONVERSION(#7,#8,1000.0,1000.0,0.0,$,$,$);
#7=IFCGEOMETRICREPRESENTATIONCONTEXT($,'Model',3,1.0E-3,#8,$);
#8=IFCAXIS2PLACEMENT3D(#9,#10,#11);
#9=IFCCARTESIANPOINT((0.,0.,0.));
#10=IFCDIRECTION((0.,0.,1.));
#11=IFCDIRECTION((1.,0.,0.));

# Site with precise geolocation
#12=IFCSITE('3$4KjK7vP2M0000000002',$,'Test Site','Building site with spatial reference',$,#13,$,$,.ELEMENT.,(37,7774000,0,1),(122,4183000,0,1),0.,$,$);
#13=IFCLOCALPLACEMENT($,#14);
#14=IFCAXIS2PLACEMENT3D(#15,$,$);
#15=IFCCARTESIANPOINT((0.,0.,0.));

# Building with millimeter precision coordinates
#16=IFCBUILDING('3$4KjK7vP2M0000000003',$,'Spatial Test Building','Multi-floor building for spatial testing',$,#17,$,$,.ELEMENT.,$,$,$);
#17=IFCLOCALPLACEMENT(#13,#18);
#18=IFCAXIS2PLACEMENT3D(#19,$,$);
#19=IFCCARTESIANPOINT((0.,0.,0.));

# Ground Floor at elevation 0mm
#20=IFCBUILDINGSTOREY('3$4KjK7vP2M0000000004',$,'Ground Floor','Ground level at 0mm elevation',$,#21,$,$,.ELEMENT.,0.);
#21=IFCLOCALPLACEMENT(#17,#22);
#22=IFCAXIS2PLACEMENT3D(#23,$,$);
#23=IFCCARTESIANPOINT((0.,0.,0.));

# Second Floor at elevation 3500mm (3.5m)
#24=IFCBUILDINGSTOREY('3$4KjK7vP2M0000000005',$,'Second Floor','Second level at 3500mm elevation',$,#25,$,$,.ELEMENT.,3500.);
#25=IFCLOCALPLACEMENT(#17,#26);
#26=IFCAXIS2PLACEMENT3D(#27,$,$);
#27=IFCCARTESIANPOINT((0.,0.,3500.));

# Spatial Rooms with precise coordinates
# Room 101 - Conference Room
#30=IFCSPACE('3$4KjK7vP2M0000000006',$,'Conference Room 101','Meeting room with AV equipment',$,#31,$,$,.ELEMENT.,.INTERNAL.,$);
#31=IFCLOCALPLACEMENT(#21,#32);
#32=IFCAXIS2PLACEMENT3D(#33,$,$);
#33=IFCCARTESIANPOINT((5000.,3000.,0.)); # 5m x, 3m y, ground floor

# Room 102 - Office Space
#34=IFCSPACE('3$4KjK7vP2M0000000007',$,'Office 102','Individual office space',$,#35,$,$,.ELEMENT.,.INTERNAL.,$);
#35=IFCLOCALPLACEMENT(#21,#36);
#36=IFCAXIS2PLACEMENT3D(#37,$,$);
#37=IFCCARTESIANPOINT((12000.,3000.,0.)); # 12m x, 3m y, ground floor

# Room 201 - Data Center
#38=IFCSPACE('3$4KjK7vP2M0000000008',$,'Data Center 201','Server room with cooling',$,#39,$,$,.ELEMENT.,.INTERNAL.,$);
#39=IFCLOCALPLACEMENT(#25,#40);
#40=IFCAXIS2PLACEMENT3D(#41,$,$);
#41=IFCCARTESIANPOINT((8000.,5000.,3500.)); # 8m x, 5m y, second floor

# Equipment with millimeter precision
# HVAC Unit in Conference Room
#50=IFCDISTRIBUTIONCONTROLELEMENT('3$4KjK7vP2M0000000009',$,'VAV-101','Variable Air Volume Box',$,#51,$,$);
#51=IFCLOCALPLACEMENT(#31,#52);
#52=IFCAXIS2PLACEMENT3D(#53,$,$);
#53=IFCCARTESIANPOINT((2500.,1500.,2700.)); # Ceiling mounted, 2.7m height

# Network Switch in Office
#54=IFCELECTRICAPPLIANCE('3$4KjK7vP2M0000000010',$,'SW-102A','Network Switch 48-port',$,#55,$,$);
#55=IFCLOCALPLACEMENT(#35,#56);
#56=IFCAXIS2PLACEMENT3D(#57,$,$);
#57=IFCCARTESIANPOINT((1200.,500.,1800.)); # Wall mounted, 1.8m height

# Server Rack in Data Center
#58=IFCELECTRICAPPLIANCE('3$4KjK7vP2M0000000011',$,'RACK-201-01','42U Server Rack',$,#59,$,$);
#59=IFCLOCALPLACEMENT(#39,#60);
#60=IFCAXIS2PLACEMENT3D(#61,$,$);
#61=IFCCARTESIANPOINT((2000.,2000.,3500.)); # Floor mounted on second floor

# Fire Safety Equipment
#62=IFCFIRESUPPRESSIONTERMINAL('3$4KjK7vP2M0000000012',$,'FS-101','Fire Sprinkler Head',$,#63,$,$);
#63=IFCLOCALPLACEMENT(#31,#64);
#64=IFCAXIS2PLACEMENT3D(#65,$,$);
#65=IFCCARTESIANPOINT((3000.,2000.,2750.)); # Ceiling sprinkler

# Lighting Fixtures with precise positioning
#66=IFCLIGHTFIXTURE('3$4KjK7vP2M0000000013',$,'LIGHT-101-01','LED Panel 60x60cm',$,#67,$,$);
#67=IFCLOCALPLACEMENT(#31,#68);
#68=IFCAXIS2PLACEMENT3D(#69,$,$);
#69=IFCCARTESIANPOINT((2500.,2000.,2800.)); # Recessed ceiling light

#70=IFCLIGHTFIXTURE('3$4KjK7vP2M0000000014',$,'LIGHT-102-01','LED Panel 30x120cm',$,#71,$,$);
#71=IFCLOCALPLACEMENT(#35,#72);
#72=IFCAXIS2PLACEMENT3D(#73,$,$);
#73=IFCCARTESIANPOINT((6000.,1500.,2800.)); # Office ceiling light

# Plumbing fixtures
#74=IFCSANITARYTERMINAL('3$4KjK7vP2M0000000015',$,'WC-101','Wall Hung Toilet',$,#75,$,$);
#75=IFCLOCALPLACEMENT(#21,#76);
#76=IFCAXIS2PLACEMENT3D(#77,$,$);
#77=IFCCARTESIANPOINT((1500.,8000.,400.)); # Restroom area

# Sensor equipment for testing proximity queries
#78=IFCSENSOR('3$4KjK7vP2M0000000016',$,'TEMP-101','Temperature Sensor',$,#79,$,$);
#79=IFCLOCALPLACEMENT(#31,#80);
#80=IFCAXIS2PLACEMENT3D(#81,$,$);
#81=IFCCARTESIANPOINT((4000.,2500.,2200.)); # Wall mounted sensor

#82=IFCSENSOR('3$4KjK7vP2M0000000017',$,'TEMP-102','Temperature Sensor',$,#83,$,$);
#83=IFCLOCALPLACEMENT(#35,#84);
#84=IFCAXIS2PLACEMENT3D(#85,$,$);
#85=IFCCARTESIANPOINT((11000.,2800.,2200.)); # Office sensor

# Relationships
#100=IFCRELAGGREGATES('3$4KjK7vP2M0000000100',$,$,$,#1,(#12));
#101=IFCRELAGGREGATES('3$4KjK7vP2M0000000101',$,$,$,#12,(#16));
#102=IFCRELAGGREGATES('3$4KjK7vP2M0000000102',$,$,$,#16,(#20,#24));
#103=IFCRELCONTAINEDINSPATIALSTRUCTURE('3$4KjK7vP2M0000000103',$,$,$,(#30,#34),#20);
#104=IFCRELCONTAINEDINSPATIALSTRUCTURE('3$4KjK7vP2M0000000104',$,$,$,(#38),#24);
#105=IFCRELCONTAINEDINSPATIALSTRUCTURE('3$4KjK7vP2M0000000105',$,$,$,(#50,#54,#62,#66,#74,#78),#20);
#106=IFCRELCONTAINEDINSPATIALSTRUCTURE('3$4KjK7vP2M0000000106',$,$,$,(#58,#70,#82),#24);

ENDSEC;
END-ISO-10303-21;
# =============================================================================
# Arx CMMS Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# cp env.example .env

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Connection URL (recommended)
DATABASE_URL=postgresql://arxos:arxos_password@localhost:5432/arxos_cmms_db?sslmode=disable

# Individual database settings (alternative to DATABASE_URL)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=arxos_cmms_db
DATABASE_USER=arxos
DATABASE_PASSWORD=arxos_password
DATABASE_SSL_MODE=disable

# Database connection pool settings
DATABASE_MAX_OPEN_CONNS=25
DATABASE_MAX_IDLE_CONNS=5
DATABASE_CONN_MAX_LIFETIME=5m

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Connection URL (recommended)
REDIS_URL=redis://localhost:6379

# Individual Redis settings (alternative to REDIS_URL)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis connection pool settings
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=2

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server settings
SERVER_PORT=8081
SERVER_HOST=0.0.0.0
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=60s

# Environment
ENVIRONMENT=development
LOG_LEVEL=debug

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRY=24h
JWT_REFRESH_EXPIRY=168h

# Password hashing
BCRYPT_COST=12

# Session configuration
SESSION_SECRET=your-session-secret-key-change-this
SESSION_EXPIRY=24h

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# CORS settings
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,X-CSRF-Token
CORS_EXPOSED_HEADERS=Content-Length,Content-Range
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=86400

# =============================================================================
# CMMS CONFIGURATION
# =============================================================================

# Work Order settings
CMMS_WORK_ORDER_AUTO_ASSIGN=true
CMMS_WORK_ORDER_PRIORITY_LEVELS=low,medium,high,critical
CMMS_WORK_ORDER_STATUSES=draft,assigned,in_progress,completed,cancelled
CMMS_WORK_ORDER_MAX_DURATION=168h
CMMS_WORK_ORDER_REMINDER_HOURS=24

# Asset Management
CMMS_ASSET_TRACKING_ENABLED=true
CMMS_ASSET_CATEGORIES=equipment,machinery,vehicles,electronics,furniture
CMMS_ASSET_STATUSES=active,inactive,maintenance,retired
CMMS_ASSET_QR_CODE_ENABLED=true
CMMS_ASSET_BARCODE_ENABLED=true

# Maintenance Management
CMMS_PREVENTIVE_MAINTENANCE_ENABLED=true
CMMS_PM_FREQUENCY_TYPES=daily,weekly,monthly,quarterly,yearly
CMMS_PM_NOTIFICATION_DAYS=7
CMMS_PM_AUTO_SCHEDULE=true

# Inventory Management
CMMS_INVENTORY_MANAGEMENT_ENABLED=true
CMMS_INVENTORY_LOW_THRESHOLD=10
CMMS_INVENTORY_CRITICAL_THRESHOLD=5
CMMS_INVENTORY_AUTO_REORDER=true
CMMS_INVENTORY_CATEGORIES=parts,supplies,tools,consumables

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================

# Notification settings
NOTIFICATION_EMAIL_ENABLED=true
NOTIFICATION_SMS_ENABLED=false
NOTIFICATION_PUSH_ENABLED=false
NOTIFICATION_WEBHOOK_ENABLED=false

# Email settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@arxos.com

# SMS settings (if enabled)
SMS_PROVIDER=twilio
SMS_ACCOUNT_SID=your-twilio-account-sid
SMS_AUTH_TOKEN=your-twilio-auth-token
SMS_FROM_NUMBER=+1234567890

# Push notification settings (if enabled)
PUSH_SERVICE_KEY=your-push-service-key
PUSH_SERVICE_SECRET=your-push-service-secret

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Arx Backend
ARX_BACKEND_URL=http://localhost:8080
ARX_BACKEND_TIMEOUT=30s
ARX_BACKEND_RETRY_ATTEMPTS=3

# SVG Parser Service
SVG_PARSER_SERVICE_URL=http://localhost:8082
SVG_PARSER_SERVICE_TIMEOUT=60s
SVG_PARSER_SERVICE_RETRY_ATTEMPTS=3

# IoT Service
IOT_SERVICE_URL=http://localhost:8084
IOT_SERVICE_TIMEOUT=30s
IOT_SERVICE_RETRY_ATTEMPTS=3

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9091
PROMETHEUS_PATH=/metrics

# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30s

# Logging configuration
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_CALLER=true

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Cache settings
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_PREFIX=arx_cmms:
CACHE_MAX_SIZE=1000

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m
RATE_LIMIT_STORAGE_URL=redis://localhost:6379/1

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development mode settings
DEV_MODE=true
DEBUG=true
HOT_RELOAD=true

# Test settings
TEST_DATABASE_URL=postgresql://arxos:arxos_password@localhost:5432/arxos_cmms_test?sslmode=disable
TEST_REDIS_URL=redis://localhost:6379/1

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production overrides (uncomment for production)
# ENVIRONMENT=production
# LOG_LEVEL=info
# DEBUG=false
# DEV_MODE=false
# HOT_RELOAD=false

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================

# Deployment settings
DEPLOYMENT_ENV=development
DEPLOYMENT_VERSION=1.0.0
DEPLOYMENT_REGION=us-east-1

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature flags
FEATURE_ADVANCED_REPORTING=true
FEATURE_MOBILE_APP=true
FEATURE_REAL_TIME_UPDATES=true
FEATURE_AI_PREDICTIVE_MAINTENANCE=false
FEATURE_INTEGRATION_WORKFLOWS=true

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================

# Third-party integrations
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Security headers
SECURITY_HEADERS_ENABLED=true
SECURITY_HEADERS_HSTS_MAX_AGE=31536000
SECURITY_HEADERS_CONTENT_SECURITY_POLICY="default-src 'self'"

# API rate limiting
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_REQUESTS=1000
API_RATE_LIMIT_WINDOW=1h

# Data encryption
ENCRYPTION_ENABLED=true
ENCRYPTION_KEY=your-encryption-key-change-this
ENCRYPTION_ALGORITHM=AES-256-GCM

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Performance tuning
WORKER_POOL_SIZE=4
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT=30s
RESPONSE_TIMEOUT=30s

# Database performance
DB_QUERY_TIMEOUT=30s
DB_CONNECTION_TIMEOUT=10s
DB_MAX_RETRIES=3

# =============================================================================
# DEBUGGING & PROFILING
# =============================================================================

# Debug settings
DEBUG_PORT=2345
DEBUG_ENABLED=false
PROFILING_ENABLED=false
PROFILING_PORT=6061

# =============================================================================
# DOCUMENTATION
# =============================================================================

# Documentation settings
API_DOCS_ENABLED=true
API_DOCS_PATH=/docs
SWAGGER_ENABLED=true
SWAGGER_PATH=/swagger

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test settings
TEST_TIMEOUT=30s
TEST_PARALLEL=4
TEST_COVERAGE_THRESHOLD=80

# =============================================================================
# CI/CD SETTINGS
# =============================================================================

# CI/CD configuration
CI_ENVIRONMENT=false
CI_BUILD_NUMBER=1
CI_COMMIT_SHA=unknown
CI_BRANCH=unknown

# =============================================================================
# LEGACY SUPPORT
# =============================================================================

# Legacy settings (for backward compatibility)
LEGACY_API_ENABLED=false
LEGACY_AUTH_ENABLED=false
LEGACY_DATABASE_ENABLED=false

# =============================================================================
# CMMS SPECIFIC SETTINGS
# =============================================================================

# Workflow settings
WORKFLOW_AUTO_APPROVAL=false
WORKFLOW_MAX_APPROVERS=3
WORKFLOW_TIMEOUT_HOURS=72

# Asset tracking settings
ASSET_TRACKING_GPS_ENABLED=false
ASSET_TRACKING_UPDATE_INTERVAL=5m
ASSET_TRACKING_HISTORY_DAYS=90

# Maintenance scheduling
MAINTENANCE_SCHEDULE_FLEXIBILITY_HOURS=2
MAINTENANCE_SCHEDULE_CONFLICT_RESOLUTION=skip
MAINTENANCE_SCHEDULE_NOTIFICATION_CHANNELS=email,sms

# Inventory settings
INVENTORY_AUTO_RESTOCK_THRESHOLD=20
INVENTORY_RESTOCK_QUANTITY_MULTIPLIER=1.5
INVENTORY_SUPPLIER_NOTIFICATION_ENABLED=true

# =============================================================================
# NOTES
# =============================================================================

# Important notes:
# 1. Change all secret keys in production
# 2. Use strong passwords for database and Redis
# 3. Enable SSL in production
# 4. Set appropriate rate limits for your use case
# 5. Configure monitoring and alerting
# 6. Set up proper backup strategies
# 7. Review security settings before deployment
# 8. Configure CMMS workflows and processes
# 9. Set up maintenance schedules and rules
# 10. Configure inventory management settings 
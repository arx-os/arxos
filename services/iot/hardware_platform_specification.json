{
    "$schema": "https://arxos.dev/specs/project.schema.json",
    "projectName": "Arxos Open Hardware Integration",
    "description": "Modular, vendor-agnostic integration layer for building systems hardware using open protocols, hardware abstraction, and reference firmware.",
    "structure": {
      "arx-hal/": {
        "description": "Hardware Abstraction Layer (HAL) schemas mapping real-world devices to logic-based objects",
        "subfolders": {
          "schemas/": "JSON schemas defining inputs/outputs and behavior profile mappings",
          "examples/": "Example AHU, HVAC, lighting, and security definitions"
        }
      },
      "arx-drivers/": {
        "description": "Device driver definitions for protocol-level hardware support",
        "subfolders": {
          "protocols/": "Protocol-specific mappings (Modbus, MQTT, LoRa, etc.)",
          "vendor/": "Commercial hardware drivers (e.g., Siemens, Honeywell)",
          "custom/": "Open-source hardware drivers (e.g., ESP32, Arduino)"
        }
      },
      "arxlink/": {
        "description": "Transport-agnostic communication layer between Arxos and field hardware",
        "subfolders": {
          "spec/": "Packet schemas, transport docs, message types",
          "clients/": "ArxLink edge agents in Go and Python",
          "tests/": "Packet simulation and protocol fuzzing"
        }
      },
      "firmware/": {
        "description": "Reference firmware for supported open hardware platforms",
        "subfolders": {
          "esp32/": "ESP-IDF and Arduino-compatible source code",
          "rpi/": "Optional RPi firmware for gateway devices"
        }
      },
      "tools/": {
        "description": "Flashing tools, simulators, and hardware validation scripts",
        "files": [
          "flash.py",
          "simulate_hardware.py",
          "packet_tester.py"
        ]
      },
      "docs/": {
        "description": "Markdown documentation for developers, integrators, and contributors",
        "files": [
          "arx-hal.md",
          "arx-drivers.md",
          "arxlink-protocol.md",
          "contributing.md"
        ]
      }
    },
    "architecture": {
      "layers": {
        "ArxHAL": {
          "purpose": "Defines the semantic interface for building systems regardless of physical hardware",
          "format": "JSON",
          "example": {
            "object_type": "ahu",
            "inputs": {
              "temp_sensor": { "unit": "Â°C", "type": "float" },
              "co2_sensor": { "unit": "ppm", "type": "int" }
            },
            "outputs": {
              "fan_relay": { "type": "boolean" },
              "damper_position": { "unit": "%", "type": "float" }
            },
            "behavior_profile": "ahu_standard_v1"
          }
        },
        "ArxDrivers": {
          "purpose": "Protocol-to-object driver mappings, used to convert real hardware states into ArxHAL-compatible formats",
          "format": "YAML or Python",
          "example": {
            "device_id": "belimo-vav-01",
            "protocol": "modbus",
            "register_map": {
              "temperature": { "address": 40001, "type": "float" },
              "damper_position": { "address": 40003, "type": "float" },
              "fan_status": { "address": 10001, "type": "bool" }
            },
            "mapped_to": "ahu"
          }
        },
        "ArxLink": {
          "purpose": "Lightweight protocol for syncing object states, behaviors, and telemetry",
          "transport": ["MQTT", "TCP", "Serial", "LoRa", "BLE"],
          "format": "JSON or MessagePack",
          "packetExample": {
            "type": "object_update",
            "timestamp": 1724382371,
            "object_id": "ahu-001",
            "values": {
              "temp_sensor": 23.5,
              "co2_sensor": 840,
              "fan_relay": true
            }
          }
        },
        "Firmware": {
          "platforms": ["ESP32", "Arduino", "Raspberry Pi"],
          "features": ["ArxLink client", "Hardware mapping to ArxHAL", "Web-based setup (optional)"]
        }
      }
    },
    "security": {
      "encryption": "NaCl (libsodium) with Ed25519 keys",
      "authentication": "Device certificates and checksum-based integrity",
      "packetSigning": true
    },
    "deployment": {
      "steps": [
        "Flash or install edge device firmware/agent",
        "Register device using `arx hardware register`",
        "Assign driver and ArxHAL schema",
        "ArxLink begins syncing states and receiving behavior updates"
      ]
    },
    "milestones": [
      { "phase": 1, "component": "arx-hal/", "description": "Schema definitions for major building systems" },
      { "phase": 2, "component": "arx-drivers/protocols/", "description": "Core protocols (Modbus, MQTT)" },
      { "phase": 3, "component": "firmware/esp32/", "description": "Open-source reference firmware for ESP32" },
      { "phase": 4, "component": "arxlink/clients/", "description": "Agent implementation for Go and Python" },
      { "phase": 5, "component": "tools/", "description": "Simulators and flashing scripts" },
      { "phase": 6, "component": "docs/", "description": "Documentation for contributors and integrators" }
    ],
    "interoperability": {
      "vendorCompatibility": "100% vendor-agnostic across BACnet, Modbus, proprietary APIs",
      "offlineMode": true,
      "asciiBIMCompatibility": true,
      "cloudOptional": true
    },
    "technologies": {
      "packetTransport": ["MQTT", "TCP", "Serial", "LoRa", "BLE"],
      "protocolFormat": ["JSON", "MessagePack"],
      "firmwareLanguages": ["C++ (Arduino)", "Python3", "ESP-IDF"],
      "agentLanguages": ["Go", "Python"],
      "securityLibraries": ["libsodium", "OpenSSL (fallback)"]
    },
    "contribution": {
      "guidelines": {
        "defineDriver": "Add YAML or Python file to arx-drivers/custom/ with mappings",
        "submitHardware": "Fork and submit under firmware/ or vendor/",
        "validateSchema": "Use provided CLI tool in tools/validate_schema.py"
      }
    },
    "philosophy": {
      "goals": [
        "Enable open, interoperable control of building systems",
        "Treat every device as an ArxObject, regardless of vendor",
        "Support both low-cost and high-end deployments",
        "Ensure decentralized, secure communication at the edge"
      ],
      "nonGoals": [
        "Replace Linux with a full OS",
        "Force use of Arxos Cloud (ArxLink and CLI must work standalone)",
        "Mandate custom hardware for adoption"
      ]
    }
  } 
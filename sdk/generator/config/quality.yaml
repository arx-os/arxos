# Quality Configuration for SDK Generation
# Defines quality standards, thresholds, and rules for all SDKs

quality:
  version: "1.0.0"
  enabled: true
  strict_mode: true

# Quality Gates
gates:
  success_rate:
    threshold: 90.0
    critical: true
    description: "Minimum test success rate"

  coverage:
    threshold: 85.0
    critical: true
    description: "Minimum code coverage percentage"

  performance:
    max_response_time: 5.0
    max_memory_usage: 100  # MB
    critical: false
    description: "Performance thresholds"

  code_quality:
    max_complexity: 10
    max_line_length: 120
    min_docstring_coverage: 80
    critical: false
    description: "Code quality standards"

# Language-specific configurations
languages:
  typescript:
    linting:
      tool: "eslint"
      config: ".eslintrc.js"
      rules:
        - "no-unused-vars"
        - "no-console"
        - "prefer-const"
      max_errors: 0
      max_warnings: 10

    formatting:
      tool: "prettier"
      config: ".prettierrc"
      enforce: true

    type_checking:
      tool: "typescript"
      strict: true
      no_implicit_any: true

    testing:
      framework: "jest"
      coverage_threshold: 80
      timeout: 300

    documentation:
      tool: "typedoc"
      output: "docs"
      include_examples: true

  python:
    linting:
      tool: "flake8"
      config: ".flake8"
      max_line_length: 120
      max_complexity: 10
      max_errors: 0
      max_warnings: 20

    formatting:
      tool: "black"
      line_length: 120
      enforce: true

    type_checking:
      tool: "mypy"
      strict: true
      ignore_missing_imports: false

    testing:
      framework: "pytest"
      coverage_threshold: 85
      timeout: 300

    documentation:
      tool: "sphinx"
      output: "docs"
      include_examples: true

  go:
    linting:
      tool: "golint"
      max_issues: 5
      enforce: true

    formatting:
      tool: "gofmt"
      enforce: true

    type_checking:
      tool: "go"
      strict: true

    testing:
      framework: "testing"
      coverage_threshold: 85
      timeout: 300

    documentation:
      tool: "godoc"
      output: "docs"
      include_examples: true

  java:
    linting:
      tool: "checkstyle"
      config: "checkstyle.xml"
      max_errors: 0
      max_warnings: 10

    formatting:
      tool: "google-java-format"
      enforce: true

    type_checking:
      tool: "javac"
      strict: true

    testing:
      framework: "junit"
      coverage_threshold: 80
      timeout: 300

    documentation:
      tool: "javadoc"
      output: "docs"
      include_examples: true

  csharp:
    linting:
      tool: "stylecop"
      config: "stylecop.json"
      max_errors: 0
      max_warnings: 10

    formatting:
      tool: "dotnet-format"
      enforce: true

    type_checking:
      tool: "csc"
      strict: true

    testing:
      framework: "xunit"
      coverage_threshold: 80
      timeout: 300

    documentation:
      tool: "docfx"
      output: "docs"
      include_examples: true

  php:
    linting:
      tool: "phpcs"
      standard: "PSR12"
      max_errors: 0
      max_warnings: 10

    formatting:
      tool: "phpcbf"
      enforce: true

    type_checking:
      tool: "phpstan"
      level: 8

    testing:
      framework: "phpunit"
      coverage_threshold: 80
      timeout: 300

    documentation:
      tool: "phpdoc"
      output: "docs"
      include_examples: true

# Test configurations
testing:
  unit_tests:
    enabled: true
    timeout: 300
    parallel: true
    coverage: true

  integration_tests:
    enabled: true
    timeout: 600
    parallel: false
    coverage: false

  performance_tests:
    enabled: true
    timeout: 1200
    parallel: false
    coverage: false

  quality_tests:
    enabled: true
    timeout: 300
    parallel: true
    coverage: false

# Coverage configurations
coverage:
  html: true
  xml: true
  json: true
  lcov: true

  thresholds:
    statements: 85
    branches: 80
    functions: 85
    lines: 85

  exclude_patterns:
    - "*/tests/*"
    - "*/examples/*"
    - "*/docs/*"
    - "*/node_modules/*"
    - "*/vendor/*"
    - "*/generated/*"

# Performance configurations
performance:
  response_time:
    p50: 1.0
    p95: 3.0
    p99: 5.0

  memory_usage:
    max_heap: 100  # MB
    max_stack: 10   # MB

  concurrent_requests:
    max_users: 100
    max_requests_per_user: 1000

  load_testing:
    duration: 300  # seconds
    ramp_up: 60    # seconds
    target_rps: 100

# Security configurations
security:
  enabled: true

  static_analysis:
    tool: "bandit"  # for Python
    config: "bandit.yaml"
    max_issues: 0

  dependency_scanning:
    tool: "safety"  # for Python
    enabled: true

  secret_scanning:
    enabled: true
    patterns:
      - "password.*=.*['\"][^'\"]+['\"]"
      - "secret.*=.*['\"][^'\"]+['\"]"
      - "api_key.*=.*['\"][^'\"]+['\"]"
      - "token.*=.*['\"][^'\"]+['\"]"

# Documentation configurations
documentation:
  enabled: true

  formats:
    - "html"
    - "markdown"
    - "pdf"

  include:
    - "api_reference"
    - "examples"
    - "tutorials"
    - "changelog"

  quality:
    min_examples: 5
    min_tutorials: 2
    require_api_docs: true

# Code quality configurations
code_quality:
  complexity:
    max_cyclomatic: 10
    max_cognitive: 8
    max_nesting: 4

  maintainability:
    min_methods_per_class: 1
    max_methods_per_class: 20
    min_lines_per_method: 1
    max_lines_per_method: 50

  naming:
    enforce_conventions: true
    max_name_length: 50

  comments:
    require_docstrings: true
    min_comment_ratio: 10

  duplication:
    max_duplication: 5  # percentage
    min_token_count: 50

# CI/CD configurations
ci_cd:
  quality_gates:
    enabled: true
    blocking: true

  reporting:
    junit: true
    coverage: true
    performance: true

  notifications:
    slack: false
    email: false
    webhook: false

  artifacts:
    reports: true
    coverage: true
    logs: true

# Monitoring configurations
monitoring:
  enabled: true

  metrics:
    - "test_execution_time"
    - "coverage_percentage"
    - "code_quality_score"
    - "performance_metrics"

  alerts:
    test_failure: true
    coverage_drop: true
    performance_degradation: true

  dashboards:
    quality_overview: true
    test_results: true
    coverage_trends: true

# Reporting configurations
reporting:
  formats:
    - "json"
    - "html"
    - "xml"
    - "markdown"

  sections:
    - "summary"
    - "test_results"
    - "coverage_analysis"
    - "performance_metrics"
    - "quality_gates"
    - "recommendations"

  output:
    directory: "reports"
    filename: "quality_report"
    timestamp: true

# Custom rules
custom_rules:
  sdk_specific:
    - "All SDKs must have proper error handling"
    - "All SDKs must include authentication examples"
    - "All SDKs must have comprehensive README"
    - "All SDKs must include type definitions"

  api_consistency:
    - "Method names must be consistent across languages"
    - "Parameter names must be consistent across languages"
    - "Error responses must be consistent across languages"

  documentation:
    - "All public APIs must be documented"
    - "All examples must be tested"
    - "All tutorials must be up-to-date"

# Enforcement levels
enforcement:
  critical:
    - "success_rate"
    - "coverage"
    - "security_issues"

  warning:
    - "performance"
    - "code_quality"
    - "documentation"

  info:
    - "style"
    - "formatting"
    - "naming"

# Quality thresholds by environment
environments:
  development:
    success_rate: 80
    coverage: 70
    performance_strict: false

  staging:
    success_rate: 90
    coverage: 80
    performance_strict: true

  production:
    success_rate: 95
    coverage: 85
    performance_strict: true
